--- 
layout: post
title: Snackbar Android Library
date: "2014-08-19T22:00:00.000-03:00"
author: William Mora
permalink: /2014/08/snackbar-android-library.html
tags: 
- mobile
- Java
- android l
- snackbar
- gradle
- software development
- github
- Android
- material design
permalink: /2014/08/snackbar-android-library.html
---

This library project is on <a href="https://github.com/nispok/snackbar">GitHub</a>&nbsp;along with an example app.<br><br>Google's <a href="http://www.google.com/design/spec/material-design/introduction.html">Material Design documentation</a> mentions a new component used for quick feedback called <a href="http://www.google.com/design/spec/components/snackbars-and-toasts.html">Snackbars</a>. The document describes them as follows:<br><blockquote>Snackbars provide lightweight feedback about an operation in a small popup at the base of the screen on mobile and at the lower left on desktop. They are above all over elements on screen, including the floating action button. <br><br>They automatically disappear after a timeout or after user interaction elsewhere on the screen, whichever comes first. Snackbars can be swiped off screen. They do not block input on the screens they appear on and cannot receive input focus. Show only one snackbar on screen at a time.</blockquote>Here are a couple of screenshots of how they should look:<br><br><a href="http://3.bp.blogspot.com/-SSic6M1r-Zk/U_PGY8ekgYI/AAAAAAAAGxw/oKA_Hb2jt3E/s1600/components-toasts-specs-spec_toast_03_1_large_mdpi.png" imageanchor="1"><img border="0" src="http://3.bp.blogspot.com/-SSic6M1r-Zk/U_PGY8ekgYI/AAAAAAAAGxw/oKA_Hb2jt3E/s320/components-toasts-specs-spec_toast_03_1_large_mdpi.png"></a>&nbsp; &nbsp;<a href="http://3.bp.blogspot.com/-Bt2HjtFWpFc/U_PGhBOnoZI/AAAAAAAAGx4/eCzIRXEUPIs/s1600/components-toasts-specs-spec_toast_03_2_large_mdpi.png" imageanchor="1"><img border="0" src="http://3.bp.blogspot.com/-Bt2HjtFWpFc/U_PGhBOnoZI/AAAAAAAAGx4/eCzIRXEUPIs/s320/components-toasts-specs-spec_toast_03_2_large_mdpi.png"></a><br>Since there's no native widget for this (at least not yet), I created a small Android library to quickly include this component on top of any activity. It only supports phones; it would still pop up at the base of the screen on tablets/desktops. <br><br>Using the <code>Snackbar</code> class is easy, this is how you would display it on an <code>Activity</code>: <br><pre>Snackbar.with(getApplicationContext()) // context<br />    .text("Single-line snackbar") // text to display<br />    .show(this); // activity where it is displayed<br /></pre>If you want an action button to be displayed, just assign a label and an <code>ActionClickListener</code>: <br><pre><br />Snackbar.with(getApplicationContext()) // context<br />    .text("Item deleted") // text to display<br />    .actionLabel("Undo") // action button label<br />    .actionListener(new Snackbar.ActionClickListener() {<br />        @Override<br />        public void onActionClicked() {<br />            Log.d(TAG, "Undoing something");<br />        }<br />     }) // action button's ActionClickListener<br />     .show(this); // activity where it is displayed<br /></pre>There are two <code>Snackbar</code> types: single-line (default) and multi-line (2 lines max). You can also set the duration of the <code>Snackbar</code> similar to a <a href="http://developer.android.com/reference/android/widget/Toast.html"><code>Toast</code></a>. Animation disabling is also possible. <br><pre>Snackbar.with(getApplicationContext()) // context<br />    .type(Snackbar.SnackbarType.MULTI_LINE) // Set is as a multi-line snackbar<br />    .text("This is a multi-line snackbar. Keep in mind that snackbars are " +<br />        "meant for VERY short messages") // text to be displayed<br />    .duration(Snackbar.SnackbarDuration.LENGTH_SHORT) // make it shorter<br />    .animation(false) // don't animate it<br />    .show(this); // where it is displayed<br /></pre>If you need to know when the <code>Snackbar</code> is shown or dismissed, assign a <code>EventListener</code> to it. This is useful if you need to move other objects while the <code>Snackbar</code> is displayed. For instance, you can move a Floating Action Button up while the <code>Snackbar</code> is on screen: <br /><pre><br />Snackbar.with(getApplicationContext()) // context<br />    .text("This will do something when dismissed") // text to display<br />    .eventListener(new Snackbar.EventListener() {<br />        @Override<br />        public void onShow(int height) {<br />           myFloatingActionButton.moveUp(height);<br />        }        <br />        @Override<br />        public void onDismiss(int height) {<br />           myFloatingActionButton.moveDown(height);<br />        }<br />    }) // Snackbar's DismissListener<br />    .show(this); // activity where it is displayed<br /></pre>Finally, you can change the <code>Snackbar</code>'s colors. <br><pre>Snackbar.with(getApplicationContext()) // context<br />    .text("Different colors this time") // text to be displayed<br />    .textColor(Color.GREEN) // change the text color<br />    .color(Color.BLUE) // change the background color<br />    .actionLabel("Action") // action button label<br />    .actionColor(Color.RED) // action button label color<br />    .actionListener(new Snackbar.ActionClickListener() {<br />        @Override<br />        public void onActionClicked() {<br />            Log.d(TAG, "Doing something");<br />        }<br />     }) // action button's ActionClickListener    <br />    .show(this); // activity where it is displayed<br /></pre>The documentation also states that they can be swiped off the screen. I used <a href="https://github.com/romannurik/android-swipetodismiss">Roman Nurik's SwipeToDismiss sample code</a> to implement this.<br><br>The library project is on <a href="https://github.com/nispok/snackbar">GitHub</a> along with an example app. If you would like to add features to it or report any bugs, refer to the <a href="https://github.com/wmora/snackbar/issues">issues</a> section.<div><br>Here are a few screenshots of the library in action:<br><br><a href="http://1.bp.blogspot.com/-5OkYxr59g10/U_Ps-4vV3XI/AAAAAAAAGyQ/RPX1BAd9eHU/s1600/Screenshot_2014-08-19-19-14-07.png" imageanchor="1"><img border="0" src="http://1.bp.blogspot.com/-5OkYxr59g10/U_Ps-4vV3XI/AAAAAAAAGyQ/RPX1BAd9eHU/s320/Screenshot_2014-08-19-19-14-07.png"></a>&nbsp;&nbsp;<a href="http://3.bp.blogspot.com/-rqMpr9nysSY/U_Ps-zvhgOI/AAAAAAAAGyM/38M0N_j4i6U/s1600/Screenshot_2014-08-19-19-14-16.png" imageanchor="1"><img border="0" src="http://3.bp.blogspot.com/-rqMpr9nysSY/U_Ps-zvhgOI/AAAAAAAAGyM/38M0N_j4i6U/s320/Screenshot_2014-08-19-19-14-16.png"></a>&nbsp;&nbsp;<a href="http://2.bp.blogspot.com/-AwjqlrBiAfs/U_Ps-2L_uqI/AAAAAAAAGyI/YJRtC21ocp8/s1600/Screenshot_2014-08-19-19-14-24.png" imageanchor="1"><img border="0" src="http://2.bp.blogspot.com/-AwjqlrBiAfs/U_Ps-2L_uqI/AAAAAAAAGyI/YJRtC21ocp8/s320/Screenshot_2014-08-19-19-14-24.png"></a><br><a href="http://2.bp.blogspot.com/-W5S5LB61fOM/U_PtADkAmWI/AAAAAAAAGys/xFAb3FbYnls/s1600/Screenshot_2014-08-19-19-14-31.png" imageanchor="1"><img border="0" src="http://2.bp.blogspot.com/-W5S5LB61fOM/U_PtADkAmWI/AAAAAAAAGys/xFAb3FbYnls/s320/Screenshot_2014-08-19-19-14-31.png"></a>&nbsp;&nbsp;<a href="http://2.bp.blogspot.com/-mpoO1PpIZfU/U_PtAbT9NdI/AAAAAAAAGyU/xvDYuIC1nsM/s1600/Screenshot_2014-08-19-19-14-43.png" imageanchor="1"><img border="0" src="http://2.bp.blogspot.com/-mpoO1PpIZfU/U_PtAbT9NdI/AAAAAAAAGyU/xvDYuIC1nsM/s320/Screenshot_2014-08-19-19-14-43.png"></a>&nbsp;&nbsp;<a href="http://1.bp.blogspot.com/-6FuxqQH1d3E/U_PtBKyjcsI/AAAAAAAAGyY/kc-qMazyk9c/s1600/Screenshot_2014-08-19-19-15-07.png" imageanchor="1"><img border="0" src="http://1.bp.blogspot.com/-6FuxqQH1d3E/U_PtBKyjcsI/AAAAAAAAGyY/kc-qMazyk9c/s320/Screenshot_2014-08-19-19-15-07.png"></a></div>
